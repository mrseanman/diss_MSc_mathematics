% !TeX root = ../main.tex

% ======  SETTING PAGE GEOMETRY  ===============================================
\usepackage[a4paper, margin=3.5cm]{geometry}

% ======  LOADING PACKAGES  ====================================================
\usepackage{import}

% Bibliography
\usepackage[
backend=biber,
style=alphabetic-verb,
]{biblatex}
\addbibresource{bib/bibliography.bib}

% Images
\usepackage{graphicx}
\graphicspath{{figs/}}

% Captions
\usepackage[font=footnotesize]{caption}
\usepackage[font=scriptsize]{subcaption}
\captionsetup{format=hang}

% Text colours
\usepackage{xcolor}
% For a question 
\newcommand{\what}[1][]{{
{\textcolor{red}{Q #1}}
}}

%Enumerate using roman numerals etc
\usepackage{enumerate}% http://ctan.org/pkg/enumerate

% Math symbol packages
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{mathabx}
% bold maths symbols
\usepackage{bm}
\usepackage{amsbsy}

% ----- Custom maths macros ----------------------------------------------------
\usepackage{sty/my_macros}
% ------------------------------------------------------------------------------

% skip line after paragraph
\usepackage{parskip}

% tikz
\usepackage{tikz}
\usepackage{tkz-graph}
\usepackage{tikz-cd} 

% Theorems, Definitions, Examples
\usepackage{amsthm}
% Hyperref ####### BE CAREFUL this needs to be loaded immediately after amsthm
\usepackage[
%bookmarks         = true,%     % Signets
%bookmarksnumbered = true,%     % Signets numérotés%
%bookmarksopen     = true,%     % Signets ouverts
colorlinks        = true,%     % Liens en couleur : true ou false
urlcolor          = blue,%     % Couleur des liens externes
linkcolor         = black,%    % Couleur des liens internes
citecolor         = black,%    % Couleur des citations
]{hyperref}% 
\usepackage[capitalize]{cleveref}

% ======  Manipulating packages  ===============================================

% ----- theorems and numbering etc ---------------------------------------------
\makeatletter
\newtheoremstyle{indented}
{3pt}% space before
{3pt}% space after
{\addtolength{\@totalleftmargin}{1.5em}
	\addtolength{\linewidth}{-2.5em}
	\parshape 1 1.5em \linewidth}% body font
{}% indent
{\bfseries}% header font
{.}% punctuation
{.5em}% after theorem header
{}% header specification (empty for default)
\makeatother

\numberwithin{figure}{section}
\numberwithin{equation}{section}

\theoremstyle{indented}
\newtheorem{theorem}{Theorem}[subsection]
\newtheorem{corollary}[theorem]{Corrolary}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{conjecture}[theorem]{Conjecture}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{example}[theorem]{Example}

% ------------------------------------------------------------------------------
% Custom mid-equation counter

\newcounter{relctr} %% <- counter for relations
\everydisplay\expandafter{\the\everydisplay\setcounter{relctr}{0}} %% <- reset every eq
\renewcommand*\therelctr{\alph{relctr}} %% <- label format

\newcommand\labelrel[2]{%
	\begingroup
	\refstepcounter{relctr}%
	\stackrel{\textnormal{(\alph{relctr})}}{\mathstrut{#1}}%
	\originallabel{#2}%
	\endgroup
}
\AtBeginDocument{\let\originallabel\label} %% <- store original definition


% -----  TikZ stuff  -----------------------------------------------------------
\usetikzlibrary{arrows,decorations,backgrounds}
% For detailed rekative positioning of nodes e.g. "below left=of othernode]"
\usetikzlibrary{positioning}
% For exact numeric calculation of relative positioning
% (allows coordinate addition etc)
\usetikzlibrary{calc}
\usetikzlibrary{math}

% for halo around text
\usepackage[outline]{contour}
\contourlength{1.2pt}
% For arrows in lines etc.
\usetikzlibrary{decorations.markings, arrows}

% polar plots
\usepackage{pgfplots}
\usepgfplotslibrary{polar}
\pgfplotsset{compat=newest}

\usetikzlibrary{intersections}
% For easier use of arrows mid line and multi-arrows mid line etc
% (for polygon model)
% https://tex.stackexchange.com/questions/85244/adding-double-arrows-to-the-middle-of-a-line-with-tikz
\tikzset{
	arrow_me/.style={
		postaction=decorate,
		decoration={
			markings,
			mark=at position .6 with {\arrow[thick]{#1}}
		}
	},
	arrow_me_ns/.style={
		postaction=decorate,
		decoration={
			markings,
			mark=at position .3 with {\arrow[thick]{#1}}
		}
	},
	arrow_me_ne/.style={
		postaction=decorate,
		decoration={
			markings,
			mark=at position .9 with {\arrow[thick]{#1}}
		}
	}
}
\pgfarrowsdeclaredouble{<<s}{>>s}{stealth}{stealth}%   double stealth
\pgfarrowsdeclaretriple{<<<s}{>>>s}{stealth}{stealth}% triple stealth
%\pgfarrowsdeclaredouble{<<<<s}{>>>>s}{<<s}{>>s}%    quadruple stealth

% Custom tikz elements
\tikzstyle{FSC}=[circle,draw=black!50,fill=black!20,thick, inner sep=0pt,minimum size=1.5mm]
\tikzstyle{a}=[red]
\tikzstyle{b}=[blue]

\usetikzlibrary{decorations.pathreplacing,calligraphy}


