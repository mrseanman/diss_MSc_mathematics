\documentclass[class=article, crop=false]{standalone}
% For whatever reason these must be in here as well as in my_preamble
\usepackage[subpreambles=true]{standalone}
\usepackage{import}

\usepackage{sty/my_preamble}


\begin{document}

Given any poset $(P,\leq)$, by placing edge labellings on the Hasse diagram for $(P, \leq)$ we can construct an \emph{edge labelled poset} from which we make many further constructions.

\begin{definition}[Edge Labelled Poset]
	We define an edge labelled poset to be a triple $(P,\leq,l)$ where $(P,\leq)$ is a poset and the function $l: \text{Cov}(P) \to A$ is the data of our labels, where $\text{Cov}(P) \coloneqq \{(p,q) \in P \times P \mid p \lessdot q\}$ is the set of \emph{covered pairs} and $A$ is some alphabet of labels. We will use $P$ as a shorthand for $(P,\leq,l)$ where possible.
\end{definition}

% filled small circle
\tikzstyle{FSC}=[circle,draw=black!50,fill=black!20,thick, inner sep=0pt,minimum size=1.5mm]
\tikzstyle{a}=[red]
\tikzstyle{b}=[blue]

\begin{figure}[h]
\centering
\begin{tikzpicture}
	\node[FSC] (base)          	at (0,0)    					[label=below:$\emptyset$]         	{};
	\node[FSC] (bottom left)    at ($(base) + (-0.8,1) $)   	[label=left:{$\{1\}$}]         		{};
	\node[FSC] (bottom right)   at ($(bottom left) + (1.6,0)$)  [label=right:{$\{2\}$}]             {};
	\node[FSC] (top left)       at ($(bottom left) + (0,1)$)    [label=left:{$\{1,2\}$}]          	{};
	\node[FSC] (top right)    	at ($(bottom right) + (0,1)$)  	[label=right:{$\{2,3\}$}]          	{};
	\node[FSC] (top)          	at ($(top left) + (0.8,1)$)    	[label=above:{$\{1,2,3\}$}]   		{};
	
	\draw[a] (base) 		to 	node[auto] 			{a} 	(bottom left);
	\draw[b] (base) 		to 	node[auto, swap] 	{b} 	(bottom right);
	\draw[b] (bottom left) 	to 	node[auto] 			{b} 	(top left);
	\draw[a] (bottom right) to 	node[auto, swap] 	{a} 	(top right);
	\draw[a] (top left) 	to 	node[auto] 			{a} 	(top);
	\draw[b] (top right) 	to 	node[auto, swap] 	{b} 	(top);
\end{tikzpicture}
	\caption{An example edge labelled poset where we have taken $\leq$ to be $\subseteq$.}
	\label{fig:example_edge_labelled_poset}
\end{figure}

Given an edge labelled poset $P$, we can construct a group with relations encoded by the geometry of the Hasse diagram of $P$.

\begin{definition}[Poset group]
	\label{def:poset_group}
	Given some edge labelled poset $(P,\leq,l)$ with $l:\text{Cov}(P) \to A$. Let the poset group $G(P)$ be the group generated by $\text{Im}(l) \subseteq A$ with relations equating paths going up the Hasse diagram that start and end at the same vertices.
\end{definition}

In the example given in Figure \ref{fig:example_edge_labelled_poset}, the poset group is $G(P) = \left\langle a,b \mid aba=bab \right\rangle$.

We can construct a cell complex $K$ from $P$ such that $\pi_1(K)$ is $G$. We do this by initially creating a simplicial complex $\Delta(P)$, where each $n$ simplex is an $n$--chain of $P$. E.g.~for Figure \ref{fig:example_edge_labelled_poset}, $\Delta(P)$ would be two solid tetrahedrons sharing an edge (a 1--simplex) corresponding to the 1--chain $(\emptyset \subseteq \{1,2,3\})$. Note that as in \cite[Definition 1.7]{mccammond_artin_2017}, we define an $n$--chain to have $n-1$ elements. E.g.~$(\{1\} \subseteq \{1,2\})$ is a 1--chain.

For a more two dimensional example consider the following poset $P$ and corresponding $\Delta(P)$. Here we forget about edge labelling in $P$ for a moment.

\begin{figure}[h]
\centering
\begin{tikzpicture}[scale=1.5]
	\tikzstyle{every label}=[font=\footnotesize]
	\node[FSC] (base left)    	at (0,0)   							[label=below:{$\{2\}$}]   	{};
	\node[FSC] (base right)		at ($(base left) + (1,0)$)  		[label=below:{$\{1\}$}]   	{};							
	\node[FSC] (middle left)	at ($(base left) + (-0.5, 0.866)$)  [label=left:{$\{2,3\}$}]   	{};
	\node[FSC] (middle middle)	at ($(middle left) + (1,0)$)		[label={[label distance=-4]40:{$\{1,2\}$}}]	{};
	\node[FSC] (middle right)	at ($(middle middle) + (1,0)$)		[label=right:{$\{1,4\}$}]	{};
	\node[FSC] (top)			at ($(middle left) + (0.5, 0.866)$)	[label=above:{$\{1,2,3\}$}]	{};
												
	\draw	(base left) to (middle left);
	\draw	(base left) to (middle middle);
	\draw	(base right) to (middle middle);
	\draw 	(base right) to (middle right);
	\draw	(middle left)	to (top);
	\draw 	(middle middle)	to (top);
\end{tikzpicture}
\hspace{1cm}
\tikzstyle{green polyfill}=[fill=green!20, draw=green!50!black, thick]
\begin{tikzpicture}[scale = 1.5]
	\tikzstyle{every label}=[font=\footnotesize]
	\node[FSC] (base left)    	at (0,0)   							[label=below:{$\{1,2\}$}]   {};
	\node[FSC] (base middle)   	at ($(base left) + (1,0)$)   		[label=below:{$\{1\}$}]   	{};
	\node[FSC] (base right)    	at ($(base middle) + (1,0)$)  		[label=below:{$\{1,4\}$}]   {};
	\node[FSC] (middle left)	at ($(base left) + (-0.5, 0.866)$) 	[label=left:{$\{2\}$}]   	{};
	\node[FSC] (middle middle)  at ($(middle left) + (1,0)$)  	    [label=right:{$\{1,2,3\}$}]	{};
	\node[FSC] (top)			at ($(middle left) + (0.5, 0.866)$)	[label=above:{$\{2,3\}$}]	{};
	
	\begin{pgfonlayer}{background}
		\filldraw[green polyfill] (base left.center) -- (middle left.center) -- (middle middle.center) -- cycle;
		\filldraw[green polyfill] (middle left.center) -- (middle middle.center) -- (top.center) -- cycle;
		\filldraw[green polyfill] (base left.center) -- (middle middle.center) -- (base middle.center) -- cycle;
		\draw[green polyfill] (base middle) to (base right);		
	\end{pgfonlayer}	
\end{tikzpicture}
\caption{An example poset $P$ (left) with corresponding $\Delta(P)$ (right).}
\label{fig:example_poset_with_simplicial_cx}
\end{figure}

We continue, now using an edge labelling on $P$, to generate a quotient space $K(P)$ of $\Delta(P)$. Let us put some arbitrary edge labelling on $P$ to progress with this, shown in Figure \ref{fig:example_edge_labelled_poset_with_KP} (left).

\begin{figure}
\begin{tikzpicture}[scale=1.5]
	\tikzstyle{every label}=[font=\footnotesize]
	\node[FSC] (base left)    	at (0,0)   							[label=below:{$\{2\}$}]   	{};
	\node[FSC] (base right)		at ($(base left) + (1,0)$)  		[label=below:{$\{1\}$}]   	{};							
	\node[FSC] (middle left)	at ($(base left) + (-0.5, 0.866)$)  [label=left:{$\{2,3\}$}]   	{};
	\node[FSC] (middle middle)	at ($(middle left) + (1,0)$)		[label={[label distance=-4]40:{$\{1,2\}$}}]	{};
	\node[FSC] (middle right)	at ($(middle middle) + (1,0)$)		[label=right:{$\{1,4\}$}]	{};
	\node[FSC] (top)			at ($(middle left) + (0.5, 0.866)$)	[label=above:{$\{1,2,3\}$}]	{};
	
	\tikzstyle{every node}=[font=\footnotesize]
	\draw[a]	(base left) 	to 	node[left] 			{a} 	(middle left);
	\draw[b]	(base left) 	to 	node[right] 		{b}		(middle middle);
	\draw[b]	(base right) 	to 	node[right] 		{b}		(middle middle);
	\draw[a] 	(base right) 	to 	node[right] 		{a}		(middle right);
	\draw[b]	(middle left)	to 	node[left] 			{b} 	(top);
	\draw[a] 	(middle middle)	to 	node[right] 	{a}		(top);
\end{tikzpicture}
\hspace{1cm}
\tikzstyle{green polyfill}=[fill=green!20, draw=green!50!black, thick]
\begin{tikzpicture}[scale = 1.5]
	\tikzstyle{every label}=[font=\footnotesize]
	\node[FSC] (base left)    	at (0,0)   							[label=below:{$\{1,2\}$}]   {};
	\node[FSC] (base middle)   	at ($(base left) + (1,0)$)   		[label=below:{$\{1\}$}]   	{};
	\node[FSC] (base right)    	at ($(base middle) + (1,0)$)  		[label=below:{$\{1,4\}$}]   {};
	\node[FSC] (middle left)	at ($(base left) + (-0.5, 0.866)$) 	[label=left:{$\{2\}$}]   	{};
	\node[FSC] (middle middle)  at ($(middle left) + (1,0)$)  	    [label=right:{$\{1,2,3\}$}]	{};
	\node[FSC] (top)			at ($(middle left) + (0.5, 0.866)$)	[label=above:{$\{2,3\}$}]	{};
	
	\begin{scope}[thick]
		\draw[a, thick, arrow_me=stealth] (base left) 	to (middle middle);
		\draw[a, arrow_me=stealth] (middle left) 	to (top);
		\draw[a, arrow_me=stealth] (base middle) 	to (base right);
		
		\draw[b, arrow_me=>>s] (middle left) to (base left);
		\draw[b, arrow_me=>>s] (top) to (middle middle);
		\draw[b, arrow_me=>>s] (base middle) to (base left);
		
		\draw (middle left) to (middle middle);
		\draw (base middle) to (middle middle); 
	\end{scope}
	
	
	\node at ($1/3*(base left) + 1/3*(base middle) + 1/3*(middle middle)$) {$\circlearrowright$};
	\node at ($1/3*(middle left) + 1/3*(base left) + 1/3*(middle middle)$) {$\circlearrowleft$};
	
	\begin{pgfonlayer}{background}
		\fill[fill=orange!20] (base left.center) -- (middle left.center) -- (middle middle.center) -- cycle;
		\fill[fill=orange!20] (base left.center) -- (middle middle.center) -- (base middle.center) -- cycle;
		\fill[fill=black!15] (middle left.center) -- (middle middle.center) -- (top.center) -- cycle;
		
	\end{pgfonlayer}	
\end{tikzpicture}
\caption{The poset in Figure \ref{fig:example_poset_with_simplicial_cx} with edge labelling (left) and the corresponding space $K(P)$ (right).}
\label{fig:example_edge_labelled_poset_with_KP}
\end{figure}

To construct $K(P)$, first we define a labelling on chains in $P$ which extends from the edge labelling in $P$.
\begin{definition}[Extended Labelling]
	 Given some edge--labelled poset $P$ and some chain $\rho \subseteq P$, the \emph{extended label} $\mathcal{L}(\rho) \subseteq A^*$ is the language of all words corresponding to all saturated chains that contain every element of $\rho$.
\end{definition}

Here a \emph{saturated chain} is a chain such that every relation is a covering relation. For an example on extended labels, consider the chain $(\{2\} \subseteq \{1,2,3\})$ in the context of Figure \ref{fig:example_poset_with_simplicial_cx}. There are two corresponding saturated chains, $(\{2\} \subseteq \{1,2\} \subseteq \{1,2,3\})$ and $(\{2\} \subseteq \{2,3\} \subseteq \{1,2,3\})$, which respectively correspond to the words $ba$ and $ab$. So $\mathcal{L}(\{2\} \subseteq \{1,2,3\}) = \{ba, ab\}$. Here are some illustrative examples:

\begin{itemize}
	\item $\mathcal{L}(\{1\} \subseteq \{1,2\}) = \mathcal{L}(\{2\} \subseteq \{1,2\}) = \{b\}$.
	\item $\mathcal{L}(\{1\} \subseteq \{1,2,3\}) = \{ba\} \neq \mathcal{L}(\{2\} \subseteq \{1,2,3\})$.
	\item $\mathcal{L}(\{1\} \subseteq \{1,2\} \subseteq \{1,2,3\}) = \mathcal{L}(\{2\} \subseteq \{1,2\} \subseteq \{1,2,3\}) = \{ba\}$.
	\item $\mathcal{L}(\{1\}) = \mathcal{L}(\{2\}) = \mathcal{L}(\{1,2\}) = \cdots = \emptyset$.
\end{itemize}

This extended labelling on chains naturally extends to a labelling on simplices in $\Delta(P)$. Using this labelling and the orientation induced on a chain by $\leq$, we can define $K(P)$.

\begin{definition}[{Poset Complex \cite[Definition 1.6]{mccammond_introduction_to_garside}}]
	For an edge--labelled poset $P$ the poset complex $K(P)$ is the quotient space $\Delta(P)/\sim$ where $\sim$ identifies simplices that share the same extended label pointwise, using the orientation on simplices induced by $\leq$.
\end{definition}

In the example in Figure \ref{fig:example_edge_labelled_poset_with_KP}, three red edges are identiefied, three blue edges are identified and two orange triangles are identified. Note that the two black edges are in this case identified, but only because they belong to the two identified triangles. In the second example for $\mathcal{L}$ above, we see they have different labels.

We see that this space is homeomorphic to a torus, which has $\pi(1) \cong \mathbb{Z}^2 \cong \left\langle a,b \mid ab = ba \right\rangle$, which is also the $G(P)$ for this edge--labelled poset.


\end{document}
