% !TeX root = ../../main.tex
\documentclass[class=article, crop=false]{standalone}
\begin{document}

\section{Maps in to classifying spaces}

Here we will show a fundamental link between homomorphisms in to groups $G$ and maps in to classifying spaces for $G$. This result will show that two classifying spaces, with a certain CW--structure, for a group $G$ are necessarily homotopy equivalent.

\begin{lemma}
    A null homotopic map $\rho \colon S^n \to X$ can be extended to a map $\sigma \colon D^{n+1} \to X$.
    \label{lem:null_homotopic_extension}
\end{lemma}
\begin{proof}
    Let $H \colon S^n \times I \to X$ witness the null homotopy with $H|_{S^n \times \Set{1}} \colon S^n \to \Set{x_0}$. We have that $H$ factors uniquely through $(S^n \times I)/(S^n \times \Set{1}) \cong D^{n+1}$. With $\sigma$ being the necessary map as below.

    \begin{equation*}
        \begin{tikzcd}
            &S^n \times I       \arrow[d, "q"]      \arrow[r, "H"]                                &X \\
            &(S^n \times I)/(S^n \times \Set{1})    \arrow[ru, "\exists ! \sigma", swap, dotted]
        \end{tikzcd}
    \end{equation*}

\end{proof}

\begin{theorem}[{\hspace{1sp}\cite[Proposition 1B.9]{hatcher_algebraic_2001}}]
    Let $Y$ be a $K(G,1)$ space and $X$ a finite dimensional CW--complex with only one 0--cell, the point $x_0$. Any homomorphism $\phi \colon \pi_1(X,x_0) \to \pi_1(Y,y_0)$ is induced by a map $\tilde{\phi} \colon X \to Y$ where $\tilde{\phi}$ is unique up to homotopy fixing $x_0$.
    \label{thm:iso_induces_unique_map_for_K_Pi_1}
\end{theorem}

\begin{proof}
    Clearly we must have $\tilde{\phi}(x_0) = y_0$. The 1--skeleton $X^1$ will be a wedge of circles and there is thus a presentation of $\pi_1(X, x_0)$ with each cell $e_\alpha^1$ corresponding to a generator $ [e_\alpha^1] \in \pi_1(X, x_0)$. We can choose $\tilde{\phi}(e_\alpha)$ to trace out a path corresponding to $\phi([e_\alpha^1]) \in \pi_1(Y,y_0)$ for each $e_\alpha^1 \in X^1$.
    
    Let $\psi_\beta \colon S^1 \to X^1$ be an attaching map for a 2--cell $e_\beta^2 \subseteq X$. Let $i \colon X^1 \hookrightarrow X$ be the inclusion. We have that $i_*$ is the surjetcion from the free group generated by each $e_\alpha^1$ to $\pi_1(X,x_0)$. The attaching of the 2--cell $e_\beta^2$ provides a null homotopy for the path traced by $\psi_\beta$. In the presentation of $\pi_1(X, x_0)$ as above, each relation corresponds to the path of a $\psi_\beta$. Thus, $i_*([\psi_\beta]) = 0$ and so $\tilde{\phi}_*([\psi_\beta]) = \phi \circ i_*([\psi_\beta]) = 0$. Thus, $\tilde{\phi} \circ \psi_\beta$ is null homotopic and so can be extended over all of the closure of $e_\beta^2$ by \cref{lem:null_homotopic_extension}. This is an extension of $\tilde{\phi}$ and repeating this allows us to extend $\tilde{\phi}$ over all of $X^2$.
    
    To extend $\tilde{\phi}$ over $e_\gamma^3$ we use that $S^{2}$ is simply connected (as for any $S^n$ with $n\geq 2$) and so for the attaching map $\psi_\gamma \colon S^2 \to X^2$ we have that $\tilde{\phi} \circ \psi_\gamma$ lifts to the universal cover of $Y$, which is contractible since $Y$ is a $K(G,1)$, so $\tilde{\phi} \circ \psi_\gamma$ is null homotopic. This same argument applies for any $e_\delta^n$ for $n\geq 3$. We can thus extend $\tilde{\phi}$ over the 3--cells and proceeding inductively, over all of $X$.

    Now we turn to the uniqueness of $\tilde{\phi}$ up to homotopy. Let $\phi$ be some homomorphism and $\tilde{\phi}_0$ and $\tilde{\phi}_1$ be any such maps constructed as above. Clearly $\tilde{\phi}_0(x_0) = \tilde{\phi}_1(x_0)$ and $\tilde{\phi}_0|_{X^1} \sim \tilde{\phi}_1|_{X^1}$ by the restrictions of our construction. Let $H$ witness this homotopy. Give $X \times I$ the following CW structure: Let $X\times \Set{0}$ and $X\times \Set{1}$ both have the same cell structure as $X$ with cells notated $d_\alpha^n$ and $e_\alpha^n$ respectively. Connect $d^0$ to $e^0$ with a 1--cell $s^1$, called \emph{the spine}. Connect a 2--cell $s_\alpha^2$ along $d_\alpha^1$, then $s^1$ then $e_\alpha^1$ then back along $s^1$ with opposite orientations on $d_\alpha^1$ and $e_\alpha^1$ such that $d^0 \cup e^0 \cup s^1 \cup d_\alpha^1 \cup e_\alpha^1 \cup s_\alpha^2 \cong S^1 \times I$. The spine now consists of $s_1 \cup s_\alpha^2$. Repeat this for each 1--cell in $X$ and then repeat for each 2--cell and so on, attaching an $s_\beta^n$ along $d_\beta^{n-1}$, $e_\beta^{n-1}$ and $s_\beta^{n-1}$, inductively building up the spine. A picture of this CW--complex completed for one $s_\alpha^2$ is below.
    \begin{equation*}
    \begin{tikzpicture}
        \tikzstyle{every label}=[font=\scriptsize]
        \tikzstyle{every node}=[font=\scriptsize]

        \node[FSC] (d_0) at (0,0)               [label={[label distance=-4pt]-60:{$d^0$}}]      {};
        \node[FSC] (e_0) at ($(d_0) + (3,0)$)   [label={[label distance=-2pt]240:{$e_0$}}]      {};

        \node            at ($(d_0) + (-0.5,1.5)$)                                              {$d_\alpha^1$};
        \node            at ($(e_0) + (0.5,1.5)$)                                               {$e_\alpha^1$};
        \node            at ($(d_0)!0.5!(e_0) + (0,1.8)$)                                       {$s_\alpha^2$};
        \draw (d_0) to node[below] {$s^1$} (e_0);

        \draw[rotate = 0, name path=d_11]   (d_0) .. controls ($(d_0) + (-1,2)$) and ($(d_0) + (1,2)$) .. (d_0);
        \draw[rotate = 60, name path=d_12]  (d_0) .. controls ($(d_0) + (-1,2)$) and ($(d_0) + (1,2)$) .. (d_0);
        \draw[rotate = 120, name path=d_12] (d_0) .. controls ($(d_0) + (-1,2)$) and ($(d_0) + (1,2)$) .. (d_0);


        \draw[rotate = 0, name path=e_11]    (e_0) .. controls ($(e_0) + (-1,2)$) and ($(e_0) + (1,2)$) .. (e_0);
        \draw[rotate = -60, name path=e_12]  (e_0) .. controls ($(e_0) + (-1,2)$) and ($(e_0) + (1,2)$) .. (e_0);
        \draw[rotate = -120, name path=e_12] (e_0) .. controls ($(e_0) + (-1,2)$) and ($(e_0) + (1,2)$) .. (e_0);


        \foreach \y in {0.1,0.4,...,1.3}{
            \path[name path=s_1] ($(d_0) + (-2,\y)$)          to ($(e_0) + (2,\y)$);
            \path[name path=s_2] ($(d_0) + (-2,\y)+ (0,0.1)$) to ($(e_0) + (2,\y) + (0,0.1)$);
            \node [coordinate, name intersections = {of = d_11 and s_1}] (s_l_1) at (intersection-1) {};
            \node [coordinate, name intersections = {of = d_11 and s_2}] (s_l_2) at (intersection-2) {};

            \node [coordinate, name intersections = {of = e_11 and s_1}] (s_r_1) at (intersection-1) {};
            \node [coordinate, name intersections = {of = e_11 and s_2}] (s_r_2) at (intersection-2) {};

            \draw[white!80!black, line width=0.1mm] (s_l_1) to (s_r_1);
            \begin{pgfonlayer}{background}
                \draw[white!80!black, line width=0.05mm, dashed] (s_l_2) to (s_r_2);
            \end{pgfonlayer}
        }
    \end{tikzpicture}
    \vspace{-0.6cm}
    \end{equation*}
    We can now extend the domain of $H$ from $X^1 \times I$ to all of $X \times I$ using this cell structure. Note that now we have two 0--cells, but this does not cause any issues. Let $H$ have domain $X^1 \times I \subseteq X \times I$. Now extend $H$ such that $H|_{X\times \Set{0}}$ agrees with $\tilde{\phi}_0$ and $H|_{X\times \Set{1}}$ agrees with $\tilde{\phi}_1$. This is possible because $H$ is a homotopy between restrictions of these maps. Note that now $H$ is defined on the whole 2--skeleton of $X \times I$. We can extend $H$ to all the higher dimensional cells by the exact same argument as before, using the contractability of the universal cover of $Y$. Thus, we have a continuous function $H \colon X \times I \to Y$ witnessing the homotopy $\tilde{\phi}_0 \sim \tilde{\phi}_1$.
\end{proof}

\begin{corollary}
    Let $X$ and $Y$ both be $K(G,1)$ spaces. Any isomorphism $\phi \colon \pi_1(X,x_0) \to \pi_1(Y,y_0)$ induces a homotopy equivalence witnessing $X \simeq Y$.
    \label{cor:iso_K_G_1_induces_hom_equiv}
\end{corollary}
\begin{proof}
    We have maps $\tilde{\phi} \colon X \to Y$ and $\widetilde{(\phi^{-1})} \colon Y \to X$ with $(\tilde{\phi} \circ \widetilde{(\phi^{-1})})_* = \id_{\pi_1(Y,y_0)}$. Thus, since the homotopy class of such maps is determined by the induced action on their fundamental groups $\tilde{\phi}\circ \widetilde{(\phi^{-1})} \sim \id_Y$. Similarly, $\widetilde{(\phi^{-1})} \circ \tilde{\phi} \sim \id_X$.
\end{proof}

\begin{lemma}
    \label{lem:extendability_of_maps}
    Let $T \in \Delta_W \setminus \emptyset$. Let $\phi \colon \bigcup_{Q \subsetneq T} X_{W_Q} \to \bigcup_{Q \subsetneq T} X^\prime_{W_Q}$ be a homotopy equivalence. We can extend $\phi$ to a homotopy equivalence $\psi \colon X_{W_T} \to X^\prime_{W_T}$ such that the following diagram commutes.
    \begin{equation*}
        \begin{tikzcd}
\bigcup_{Q \subsetneq T} X_{W_Q}  \ar[r, "\phi"]             &   \bigcup_{Q \subsetneq T} X^\prime_{W_Q}                                                   \\
X_{W_T} \ar[r, "\psi" ] \ar[from=u, hookrightarrow]                                  &   X^\prime_{W_T}  \ar[from = u, hookrightarrow]      \\
        \end{tikzcd}
    \end{equation*}
\end{lemma}
\begin{proof}
    We prove this by cases. By \cref{rmk:salvetti_X_prime_similarities}, $X_{W_T}$ and $X^\prime_{W_T}$ are classifying spaces.
    \begin{enumerate}[i)]
        \item If $\Abs{T}=1$ then $Q$ is uniquely $\emptyset$. Let $\psi$ be any map witnessing $X_{W_T} \simeq X^\prime_{W_T}$ that fixes the point corresponding to $X_{W_Q}$.
        \item If $\Abs{T} = 2$ then we can extend $\phi$ to $\psi$ such that $\psi_* \colon \pi_1(X_{W_T}, X_{\emptyset}) \to \pi_1(X^\prime_{W_T}, X^\prime_{\emptyset})$ is an isomorphism using the same argument as in the proof of \cref{thm:iso_induces_unique_map_for_K_Pi_1}. This map is a homotopy equivalence by \cref{cor:iso_K_G_1_induces_hom_equiv}.
        \item If $\Abs{T} \geq 3$ then we can extend $\phi$ to some map $\psi$ using the same methods as in \cref{thm:iso_induces_unique_map_for_K_Pi_1}. In this case, $\bigcup_{Q \subsetneq T} X_{W_Q}$ contains the 2--skeleton of $X_T$ and similarly for $\bigcup_{Q \subsetneq T} X^\prime_{W_Q}$ and $X^\prime_T$. So $\pi_1(\bigcup_{Q \subsetneq T} X_{W_Q}, X_{W_\emptyset}) =\pi_1(X_T, X_{W_\emptyset})$ and similarly for $X^\prime_T$.  By assumption $\phi$ is a homotopy equivalence and so $\phi_*$ is an isomorphism. Therefore, $\psi_*$ is an isomorphism \cite[Corollary 4.12]{hatcher_algebraic_2001} and thus $\psi$ a homotopy equivalence by \cref{cor:iso_K_G_1_induces_hom_equiv}. \qedhere
    \end{enumerate}
\end{proof}

\end{document}