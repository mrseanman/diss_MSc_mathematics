% !TeX root = ../../main.tex
\documentclass[class=article, crop=false]{standalone}
\begin{document}

\section{The Salvetti complex}
\label{sec:salvetti_cx}

Here we will define the \emph{Salvetti complex} for a Coxeter group $W$ generated by $S$, which is a CW--complex homotopy equivalent to $Y_W$ introduced by Salvetti in \cite{salvetti_homotopy_1994,salvetti_homotopy_1994}. To define the Salvetti complex, we must first define a notion on subsets of $S$. For some subset $T\subseteq S$ define the \emph{parabolic subgroup} of $W$ with respect to $T$ to be the group generated by $T$, inheriting relations from $W$ that exclusively concern elements of $T$. We denote this by $W_T$.
% \what[I agree it is non--trivial that $\GroupPres{T} \cong W_T$, but I don't think I have assumed this. Should I include it as a fact?]
If $\Gamma$ is the Coxeter diagram for $W$, then $W_T$ is the Coxeter group corresponding to the complete (or \emph{full}) subgraph of $\Gamma$ containing the vertices $T$. It is known that $W_T$ is isomorphic to the subgroup $\GroupPres{T} \subseteq W$ via the natural homomorphism induced by the inclusion $T \hookrightarrow \GroupPres{T}$ \cite[Section 5.5]{humphreys_reflection_1990}. Therefore, we can think of $W_T$ as a subgroup of $W$ in a natural way. From here we follow \cite[Section 2.3]{paolini_classifying_2017}, with notation mostly following \cite{paolini_salvetti_kpi1_2021}.

\begin{definition}
	For a Coxeter group $W$ generated by $S$, define $\mathcal{S}_W$ to be the family of subsets $T\subseteq S$ such that $W_T$ is finite.
	\label{def:delta_W_finite}
\end{definition}

For some $T \subseteq S$, we say some $w \in W$ is $T$--minimal if $w$ is the unique element of minimum length (with respect to $S$) in the coset $wW_T$. Uniqueness is shown in \cite{bourbaki_elements_2008}.
Define a partial order on the set $W \times \mathcal{S}_W$ by the following: $(u,X)\leq (v,Y)$ iff $X\subseteq Y$, $v^{-1}u \in W_Y$ and $v^{-1}u$ is $X$--minimal.

\begin{definition}[{Pre-Salvetti complex \cite[Definition 2.19]{paolini_classifying_2017}}]
	For a Coxeter group $W$, define the \emph{pre--Salvetti Complex} $\sal(W)$ to be $\Delta(W \times \mathcal{S}_W)$ under the partial order $\leq$ prescribed above (recall $\Delta$ from \cref{def:geometric_simplicial_cx}).
	\label{def:pre_salvetti_cx}
\end{definition}

Let us quote some results that help us to interpret $\sal(W)$.

\begin{lemma}[{\hspace{1sp}\cite[Lemma 2.18]{paolini_classifying_2017}}]
	Consider the following objects as cellular subspaces of $\sal(W)$.
	\begin{align*}
		C(v,Y)          & \coloneq [-\infty, (v,Y)] \\
		\partial C(v,Y) & \coloneq [-\infty, (v,Y)] \setminus \Set{(v,Y)}
	\end{align*}
	Let $n=\Abs{Y}$.
	There is a homeomorphism $C(v,Y) \to D^n$ that restricts to a homeomorphism $\partial C(v,Y) \to S^{n-1}$.
\end{lemma}
This allows us to exhibit $\sal(W)$ as a CW--complex where $C(w,X)$ is a $\Abs{X}$--cell for each $X \in \mathcal{S}_W$. Let us see what these cells look like. Note that the cells of the CW-complex and the simplices in $\Delta(W \times \mathcal{S}_W)$ as in \cref{def:pre_salvetti_cx} comprise a completely different cell structure for $\sal(W)$. We define $\GroupPres{\emptyset} \coloneq \Set{1}$ to give $W_\emptyset$ meaning as the trivial subgroup inside $W$. So $\emptyset \in \mathcal{S}(W)$.

In general, we have that $(u,X) \leq (v,X) \implies u = v$. This is because $(u,X) \leq (v,X) \implies v^{-1}u \in W_X$, so we have $v^{-1}uW_X = W_X$, so if $v^{-1}u$ is minimal in $v^{-1}uW_X$ then $v^{-1}u = 1$. In particular, there is no $(u,X) < (w,\emptyset)$. So indeed each $C(w,\emptyset)$ is a 0--cell. We will denote these cells $w$ as a shorthand.

Now consider each 1--cell $C(w,\Set{s})$. Since $W_{\Set{s}} = \Set{1,s} \cong \Z/2$ we have $\Set{s} \in \mathcal{S}_W$ for all $s \in S$. Recall that if $(u,X) \leq (w,\Set{s})$ we require $w^{-1}u \in W_{\Set{s}}$. So we have $u \in \Set{w, ws}$. Locally, the Hasse diagram and (since we only have saturated 1--chains here) $\Delta(W \times \mathcal{S}_W)$ both look like \cref{fig:salvetti_cells_example} (left). In the CW--complex there would be only one 1--cell, labelled $C(w,\Set{s})$ oriented from $w$ to $ws$. Note that $C(ws, \Set{s})$ also connects these two vertices, but in the opposite orientation.

\begin{figure}[ht]
	\centering
	\begin{tikzpicture}
		\tikzstyle{every label}=[font=\footnotesize]
		\node[FSC] (base left)    	at (0,0) 											[label=below:{$(w, \emptyset)$}]   		{};
		\node[FSC] (base right)    	at ($(base left) + (2,0)$) 							[label=below:{$(ws, \emptyset)$}]   	{};
		\node[FSC] (top)			at ($0.5*(base left) + 0.5*(base right) + (0,1)$)	[label=above:{$(w, \Set{s})$}]		   	{};

		\draw (base left) to (top) to (base right);
	\end{tikzpicture}
	\hspace{1cm}
	\begin{tikzpicture}
		\tikzstyle{every label}=[font=\footnotesize]
		\tikzstyle{every node}=[font=\footnotesize]
		\node[FSC] (base left)    	at (0,0) 											[label=below:{$w$}]   		{};
		\node[FSC] (base right)    	at ($(base left) + (2.5,0)$) 						[label=below:{$ws$}]	   	{};

		\draw[arrow_me=stealth] (base left) to node[above] {$C(w, \Set{s})$} (base right);
	\end{tikzpicture}
	\caption{A picture of $[-\infty, (w, \Set{s})]$ within $\sal(W)$ as the geometric simplicial complex $\Delta(W \times \Delta_W)$ (which also resembles the Hasse diagram) (left). The corresponding 1--cell in the CW--complex for $\sal(W)$ (right).}
	\label{fig:salvetti_cells_example}
\end{figure}

Now consider the 2--cells in the CW--complex. We have that $W_{\Set{s,t}} \cong D_{2m(s,t)}$, the dihedral group corresponding to the $m(s,t)$--gon (recall $m(s,t)$ from \cref{def:coxeter_group}). Thus, $\Set{s,t} \in \Delta_W$ iff $m(s,t) \neq \infty$. We have $(u, \Set{s}) \leq (w, \Set{s,t})$ only when $u = wd$ for some $d \in W_{\Set{s,t}}$, similarly for $(v, \Set{t}) \leq (w, \Set{s,t})$. The second requirement is that $d$ is ($\Set{s}$ or $\Set{t}$)--minimal. Generally, if $(u,X) \leq (v,Y)$ then $X \subseteq Y$ so $W_X \subseteq W_Y$.
We also require $v^{-1}u \in W_Y$ so the coset $v^{-1}uW_X$  lies inside $W_Y$. Due to the nature of \cref{def:coxeter_group}, only relations in $W_Y$ could have relevance to the word length of an element $x \in W_Y$ (even if $x$ is considered an element of the ambient Coxeter group $W$). Thus, to determine if $v^{-1}u$ is $X$ minimal we need only consider $v^{-1}uW_X$ within $W_Y$, not the entire Coxeter group $W$. In particular, to tell if $(wd, \Set{s}) \leq (w, \Set{s,t})$ for some $d \in W_{\Set{s,t}}$, we need only consider if $d$ is $\Set{s}$--minimal in the dihedral group $W_{\Set{s,t}}$.

Considering for a moment $s$ and $t$ as letters only, a normal form comprising minimal length words for $W_{\Set{s,t}}$ is the following.
\begin{equation*}
	\Set{\Pi(s,t;n) \given n \leq m(s,t)} \cup \Set{\Pi(t,s;n) \given n < m(s,t)}
\end{equation*}
Recall the meaning of $\Pi(s,t;n)$ from \cref{def:artin_group}. Note that $\Pi(t,s,m(s,t))$ is also a minimal length word but is not included for the above to be a normal form. Thus, any $sts\cdots s$ is $\Set{t}$--minimal if the total length of $sts\cdots s$ is strictly less than $m(s,t)$. Similarly, $sts\cdots t$ is $\Set{s}$--minimal if the total length of $sts\cdots t$ is strictly less than $m(s,t)$, with equivalent results for $tst\cdots s$ and $tst \cdots t$ depending on the last letter in the word. A picture of the Hasse diagram for the interval $[-\infty, (w, \Set{s,t})]$ corresponding to the cell $C(w,\Set{s,t})$ where $m(s,t)=3$ is shown in \cref{fig:hasse_for_salvetti_2_cell}. The CW cell itself has been drawn in \cref{fig:hasse_for_salvetti_CW_2_cell}.

\tikzmath{
	\hsep = 1.6;
	\vsep = 0.9;
}
\begin{figure}
	\centering
	\begin{tikzpicture}
		\tikzstyle{every label}=[font=\scriptsize]
		\tikzstyle{every node}=[font=\footnotesize]
		\node[FSC] (a0) at (0,0)								[label=below:{$\Set{w, \emptyset}$}]		{};
		\node[FSC] (a1) at ($ (a0) + 1*(\hsep, 0)$)				[label=below:{$\Set{ws, \emptyset}$}]		{};
		\node[FSC] (a2) at ($ (a0) + 2*(\hsep, 0)$)				[label=below:{$\Set{wst, \emptyset}$}]		{};
		\node[FSC] (a3) at ($ (a0) + 3*(\hsep, 0)$)				[label=below:{$\smallvertequalto{\Set{wsts, \emptyset}}{\Set{wtst, \emptyset}}$}]		{};
		\node[FSC] (a4) at ($ (a0) + 4*(\hsep, 0)$)				[label=below:{$\Set{wts, \emptyset}$}]		{};
		\node[FSC] (a5) at ($ (a0) + 5*(\hsep, 0)$)				[label=below:{$\Set{wt, \emptyset}$}]		{};
		\node[FSC] (a6) at ($ (a0) + 6*(\hsep, 0)$)				[label=below:{$\Set{w, \emptyset}$}]		{};

		\tikzstyle{every label}=[fill=white, rounded corners=2pt,inner sep=1pt, font=\scriptsize]
		\node[FSC] (b0) at ($0.5*(a0) + 0.5*(a1) + (0,\vsep) $)	[label=above:{$(w, \Set{s})$}]				{};
		\node[FSC] (b1) at ($0.5*(a1) + 0.5*(a2) + (0,\vsep) $)	[label=above:{$(ws, \Set{t})$}]				{};
		\node[FSC] (b2) at ($0.5*(a2) + 0.5*(a3) + (0,\vsep) $)	[label=above:{$(wst, \Set{s})$}]			{};
		\node[FSC] (b3) at ($0.5*(a3) + 0.5*(a4) + (0,\vsep) $)	[label=above:{$(wts, \Set{t})$}]			{};
		\node[FSC] (b4) at ($0.5*(a4) + 0.5*(a5) + (0,\vsep) $)	[label=above:{$(wt, \Set{s})$}]				{};
		\node[FSC] (b5) at ($0.5*(a5) + 0.5*(a6) + (0,\vsep) $)	[label=above:{$(w, \Set{t})$}]				{};

		\tikzstyle{every label}=[font=\footnotesize]
		\node[FSC] (top) at ($(a0) + (3*\hsep, 3*\vsep)$) 		[label=above:{$(w, \Set{s,t})$}]			{};

		\begin{pgfonlayer}{background}
			% see https://tex.stackexchange.com/questions/646915/how-add-1-in-math-expression-inside-tikz-foreach-loop
			\foreach \x in {0,...,5}
			\draw (a\x) to (b\x) to (a\the\numexpr \x + 1\relax);
			\foreach \x in {0,...,5}
			\draw (b\x) to (top);
		\end{pgfonlayer}
	\end{tikzpicture}
	\caption{The local Hasse Diagram corresponding to the CW 2--cell $C(w,\Set{s,t})$ where $m(s,t)=3$. Note that $\Set{w,\emptyset}$ has been drawn twice for clarity in the picture. C.f.~\cref{fig:hasse_for_salvetti_CW_2_cell}}
	\label{fig:hasse_for_salvetti_2_cell}
\end{figure}

\tikzmath{
	\rad = 2.5;
}
\begin{figure}
	\centering
	\hspace{-1.9cm}
	\begin{tikzpicture}
		\tikzstyle{every label}=[font=\footnotesize]
		\tikzstyle{every node}=[font=\footnotesize]
		
		
		\node (mid) at (0,0) {\contour{white}{$C(w, \Set{s,t})$}};
		
		\foreach \a/\l in {0/$w$,1/$ws$,2/$wst$,3/$wsts=wtst$,4/$wts$,5/$wt$}
			\node[FSC]	(p\a) at (\the\numexpr \a*60\relax:\rad) [label={[label distance=1pt]\the\numexpr \a*60\relax:\l}]	{};
		
		\foreach \a/\ab in {0/1, 1/2, 2/3, 3/4, 4/5, 5/0}
			\node[circle, fill=white!80!black,inner sep=0pt,minimum size=1.5pt] (m\a) at ($ (p\a)!0.5!(p\ab)$) {};
		
		\begin{pgfonlayer}{background}
		\foreach \a in {0,...,5}{
			\draw[white!80!black, line width=0.05mm] (mid.center) to (p\a);
			\draw[white!80!black, line width=0.05mm] (mid.center) to (m\a);
		}
		\end{pgfonlayer}
		
		\tikzstyle{every node}=[font=\tiny]
		\foreach \a/\ab/\l in {0/1/{$C(w,\Set{s})$}, 1/2/{$C(ws,\Set{t})$}, 2/3/{$C(wst, \Set{s})$}}
			\draw[arrow_me=stealth] (p\a) to node[sloped, above] {\l} (p\ab);
		
		\foreach \a/\ab/\l in {3/4/{$C(wts,\Set{t})$}, 4/5/{$C(wt,\Set{s})$}, 5/0/{$C(w,\Set{t})$}}
			\draw[arrow_me=stealth] (p\ab) to node[sloped, below] {\l} (p\a);
	\end{tikzpicture}
	\caption{The 2--cell $C(w, \Set{s,t})$ in the CW--complex for $\sal(W)$ where $m(s,t)=3$. The faint lines are the simplices from $\Delta(W \times \Delta_W)$, which have all been incorporated in to one CW cell. }
	\label{fig:hasse_for_salvetti_CW_2_cell}
\end{figure}
	
There is a natural action $W\acts \sal(W)$ with $w\cdot (u,T) \coloneq (wu, T)$. We can now define the following:
\begin{definition}[Salvetti Complex]
	\label{def:salvetti_cx}
	For a Coxeter group $W$ define the \emph{Salvetti Complex} $X_W$ to be the quotient space $\sal(W)/W$ under the action specified above.
\end{definition}

The action is cellular, thus we have a CW structure for $X_W$ as well. The Salvetti complex was defined in \cite{salvetti_homotopy_1994} to be the quotient of a space related to the action of $W$ on a vector space. In \cite[Theorem 3.3]{paris_kpi1_2014} it is shown that the definition we have given generates a space homeomorphic to that in the original definition by Salvetti. We now quote the following important result.
\begin{theorem}[{\hspace{1sp}\cite[Corollary 3.4]{paris_kpi1_2014}\cite{salvetti_topology_1987}}]
	\label{thm:salvetti_hom_equiv_config}
	For a Coxeter group $W$, the Salvetti complex $X_W$ is homotopy equivalent to the configuration space $Y_W$.
\end{theorem}

Now let us consider the cell structure of $X_W$.
There is one $\Abs{T}$--cell for each $T \in \Delta_W$, in particular, there is one 0--cell corresponding to the trivial group $W_\emptyset$. Attached to this is a 1--cell for each $s\in S$ forming $\bigvee_{s \in S} S^1$ as the 1--skeleton. Then to this wedge is attached 2--cells following the procedure above for each $m(s,t) \neq \infty$. Each 2--cell corresponding to $\Set{s,t}$ is attached to two 1--cells corresponding to $\Set{s}$ and $\Set{t}$.
\begin{remark}
	By considering the 2--skeleton of $X_W$ and the presentation for $X_W$ as in \eqref{eqn:CW_fund_group_presentation} and by generalising the picture in \cref{fig:hasse_for_salvetti_CW_2_cell} to all finite values of $m(s,t)$, we have that $\pi_1(X_W) \cong G_W$.
	\label{rmk:fundamental_grp_of_salvetti}
\end{remark}
Thus, combining with \cref{thm:salvetti_hom_equiv_config}, we have re-proved $\pi_1(Y_W) \cong G_W$.


\end{document}
